(this["webpackJsonpstocktwits-search"]=this["webpackJsonpstocktwits-search"]||[]).push([[0],{23:function(t,e,a){t.exports=a(34)},34:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(19),r=a.n(o),l=a(16),c=a(10),i=a(11),m=a(14),u=a(12),h=a(15),b=a(8),p=a(6),y=a(9),d=a(7),v=a(22),k=a(20),f=a.n(k),S=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).handleClick=function(t){a.props.remove(t)},a.generateLists=function(t){return t.map((function(t){var e=t.messages.map((function(t){return s.a.createElement(d.a,{key:t.id,style:{width:"18rem"}},s.a.createElement(d.a.Img,{style:{width:"50px",height:"50px"},variant:"top",src:t.user.avatar_url}),s.a.createElement(d.a.Title,null,t.user.username),s.a.createElement(d.a.Text,null,t.body),s.a.createElement(d.a.Footer,null,t.created_at))}));return s.a.createElement(v.a,{key:t.symbol.symbol},s.a.createElement("h2",null,s.a.createElement(f.a,{text:t.symbol.symbol})),s.a.createElement("p",null,"Number of messages:",t.messages.length),s.a.createElement(y.a,{onClick:function(){return a.handleClick(t.symbol.symbol)}},"Click to Close"),e)}))},a}return Object(h.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.props.twitList,e=this.generateLists(t);return s.a.createElement("div",null,e)}}]),e}(s.a.Component),E=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(m.a)(this,Object(u.a)(e).call(this,t))).onSymbolButtonClick=function(t){var e=a.state.stockSymbols.filter((function(e){return e!==t}));a.setState({stockSymbols:e})},a.handleChange=function(t){var e=t.target.value.toUpperCase().split(" "),n=a.state.stockSymbols.concat(e),s=Object(l.a)(new Set(n));a.setState({value:t.target.value,symbolsToAdd:s})},a.state={stockSymbols:[],value:"",message:"",twits:[],symbolsToRemove:"",symbolsToAdd:[]},a}return Object(h.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t,e){var a=this;clearInterval(this.timer),e.stockSymbols!==this.state.stockSymbols&&this.searchTwits(),this.timer=setInterval((function(){if(a.state.stockSymbols)return a.searchTwits()}),1e4)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"searchTwits",value:function(){var t=this,e=this.state.stockSymbols;this.setState({twits:[]}),e&&e.forEach((function(e){fetch("https://stocktwits-server.herokuapp.com/".concat(e),{method:"GET"}).then((function(e){return e.ok?e.json():(t.setState({message:"Search failed. Please try again."}),Promise.reject(e.statusText))})).then((function(e){var a=t.state.twits.concat(e);t.setState({twits:a,message:""})}))}))}},{key:"addInputToState",value:function(t){t.preventDefault(),this.state.stockSymbols.length>9&&this.setState({message:"Max number of symbols reached."});var e=this.state,a=e.stockSymbols,n=e.symbolsToAdd,s=a.concat(n),o=Object(l.a)(new Set(s));this.setState({stockSymbols:o,value:"",message:"",symbolsToAdd:[]})}},{key:"render",value:function(){var t=this,e=this.state.message;return this.state.stockSymbols.length>=1?s.a.createElement(b.a,null,s.a.createElement("h1",null,"Stocktwit Searcher"),s.a.createElement("p",null,"Enter stock symbols to search. You may input multiple symbols with spaces separating."),s.a.createElement(p.a,{onSubmit:function(e){return t.addInputToState(e)}},s.a.createElement(p.a.Group,{controlId:"formStockSymbols"},s.a.createElement(p.a.Label,null,"Search"),s.a.createElement(p.a.Control,{required:!0,type:"text",placeholder:"Input stock symbols",value:this.state.value,onChange:function(e){return t.handleChange(e)}}),e),s.a.createElement(y.a,{variant:"primary",type:"submit"},"Submit")),s.a.createElement(S,{twitList:this.state.twits,remove:this.onSymbolButtonClick})):s.a.createElement(b.a,null,s.a.createElement("h1",null,"Stocktwit Searcher"),s.a.createElement("p",null,"Enter stock symbols to search. You may input multiple symbols with spaces separating."),s.a.createElement(p.a,{onSubmit:function(e){return t.addInputToState(e)}},s.a.createElement(p.a.Group,{controlId:"formStockSymbols"},s.a.createElement(p.a.Label,null,"Search"),s.a.createElement(p.a.Control,{required:!0,type:"text",placeholder:"Input stock symbols",value:this.state.value,onChange:function(e){return t.handleChange(e)}}),e),s.a.createElement(y.a,{variant:"primary",type:"submit"},"Submit")))}}]),e}(s.a.Component);a(33);var g=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(E,null),s.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.3ead8918.chunk.js.map